
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>
<pre>
start_stmt/start ::= green flag statement
comment_stmt ::= '#' 'blah blah blah'
blank_stmt ::= ''
simple_stmt ::=  expression_stmt
                 | assert_stmt
                 | assignment_stmt
                 | augmented_assignment_stmt
                 | annotated_assignment_stmt
                 | pass_stmt
                 | del_stmt
                 | return_stmt
                 | yield_stmt
                 | raise_stmt
                 | break_stmt
                 | continue_stmt
                 | import_stmt
                 | future_stmt
                 | global_stmt
                 | nonlocal_stmt
                 | comment_stmt
                 | blank_stmt
</pre>
assignment_stmt ::=  (target_list "=")+ (starred_expression | yield_expression)
target_list     ::=  target ("," target)* [","]
target          ::=  identifier
                     | "(" [target_list] ")"
                     | "[" [target_list] "]"
                     | attributeref
                     | subscription
                     | slicing
                     | "*" target
assignment expressions in 3.8?

augmented_assignment_stmt ::=  augtarget augop (expression_list | yield_expression)
augtarget                 ::=  identifier | attributeref | subscription | slicing
augop                     ::=  "+=" | "-=" | "*=" | "@=" | "/=" | "//=" | "%=" | "**="
                               | ">>=" | "<<=" | "&=" | "^=" | "|="

We merge all assignment statements into only one visual brick.
The visual brick has 3 types and more variants.

annotated_assignment_stmt ::=  augtarget ":" expression ["=" expression]
augmented_assignment_stmt ::=  augtarget augop (expression_list | yield_expression)
assignment_stmt ::= target_list "=" value_list

Does augtarget belong to target_list ? Yes it is a subset.

BEWARE: named expressions are not yet included in argument list management.
<pre>
assignment_stmt/assignment ::= target_list "=" value_list
assignment_chain ::= target_list "=" value_list
named_expr ::= expression ":=" expression
value_list ::= starred_item | yield_expression | assignment_chain | identifier_valued
augmented_assignment_stmt/augmented_assignment ::=  augtarget augop augassigned_list
named_augtarget ::=  identifier | dotted_name | named_attributeref | named_subscription | named_slicing
augtarget ::=  named_augtarget | attributeref | subscription | slicing
augassigned_list ::= expression | yield_expression
target ::= target_unstar | target_star
target_unstar ::=  augtarget
                     | parenth_target_list
                     | bracket_target_list
target_annotated ::= target | identifier_annotated | augtarget_annotated
parenth_target_list ::= "(" [target_list] ")"
bracket_target_list ::= "[" [target_list] "]"
target_star ::= "*" target
expression_star ::= "*" expression
augtarget_annotated ::= augtarget ":" expression
annotated_stmt ::=  augtarget ":" expression
annotated_assignment_stmt ::=  augtarget ":" expression "=" expression
</pre>
import_stmt     ::=  "import" module ["as" name] ( "," module ["as" name] )*
                     | "from" relative_module "import" identifier ["as" name] ( "," identifier ["as" name] )*
                     | "from" relative_module "import" "(" identifier ["as" name] ( "," identifier ["as" name] )* [","] ")"
                     | "from" module "import" "*"

module          ::=  (identifier ".")* identifier
relative_module ::=  "."* module | "."+

<pre>
import_stmt/import ::=  "import" non_void_module_as_list
                     | "from" relative_module "import" non_void_import_identifier_as_list
                     | "from" module "import" "*"
non_void_module_as_list ::= module_as ( "," module_as )*
module_as ::= module | identifier_as | dotted_name_as
dotted_name_as ::= dotted_name "as" identifier
# relative_module ::=  "."* module | "."+
relative_module ::=  module | parent_module
parent_module ::= '.'+ [module]
module ::= dotted_name | identifier
non_void_import_identifier_as_list ::= import_identifier_as ( "," import_identifier_as )*
name ::= blah blah blah
identifier ::= "blah blah blah"
import_identifier_as ::= identifier | identifier_as
identifier_as ::= identifier "as" identifier
#the usage name of an imported identifier
</pre>
In *_named, the 'as' part is optional.
Extra part types used to manage docstring placement
The type of the doctring is dynamically generated depending on its position.
Rule: a docstring part becomes a top docstring if it is followed by import statements
<pre>
docstring_stmt ::= longstringliteral+{1}
</pre>
global_stmt ::=  "global" identifier ("," identifier)*
nonlocal_stmt ::=  "nonlocal" identifier ("," identifier)*
<pre>
global_stmt ::= "global" non_void_identifier_list
nonlocal_stmt ::= "nonlocal" non_void_identifier_list
non_void_identifier_list ::= identifier ("," identifier)*
</pre>

<pre>
</pre>

Some shortcuts
<pre>
pass_stmt/pass
continue_stmt/continue
break_stmt/break
raise_stmt/raise
yield_stmt/yield
del_stmt/del
return_stmt/return
</pre>

</body>
</html>