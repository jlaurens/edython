// This file was generated by "update.py" on 2020-04-24 21:45:29.278031

describe(`Inline tests at core/geom.js`, function () {
  this.timeout(10000)
  let flag = new eYo.test.Flag()
  let onr = eYo.c9r && eYo.c9r.new('onr')
  before (function() {
    flag.reset()
  })

  describe(`Point`, function () {
    it(`Point: set`, function () {
      var p, m, mm
       p = new eYo.geom.Point()
       m = {c: 1, l: 2};
       p.set(m); chai.expect(p).eql(m)
       chai.expect(() => p.set(m, null)).not.throw()
       chai.expect(() => p.set(m, 1)).throw()
       p = new eYo.geom.Point()
       mm = {x: m.c * eYo.geom.X, y: m.l * eYo.geom.Y}
       p.set(mm); chai.expect(p).almost.eql(m)
       chai.expect(() => p.set(mm, null)).not.throw()
       chai.expect(() => p.set(mm, 1)).throw()
       p = new eYo.geom.Point()
       mm = {clientX: m.c * eYo.geom.X, clientY: m.l * eYo.geom.Y}
       p.set(mm); chai.expect(p).almost.eql(m)
       chai.expect(() => p.set(mm, null)).not.throw()
       chai.expect(() => p.set(mm, 1)).throw()
       p = new eYo.geom.Point()
       mm = {width: m.c * eYo.geom.X, height: m.l * eYo.geom.Y}
       p.set(mm); chai.expect(p).almost.eql(m)
       chai.expect(() => p.set(mm, null)).not.throw()
       chai.expect(() => p.set(mm, 1)).throw()
       let p_c = eYo.p6y.new('c', onr)
       let p_l = eYo.p6y.new('l', onr)
       p = new eYo.geom.Point(); p_c.value_ = 1; p_l.value_ = 2
       p.set(p_c, 2)
       chai.expect(p).eql(m)
       chai.expect(p_c.value).equal(p.c_ = 2)
       p = new eYo.geom.Point(); p_c.value_ = 1; p_l.value_ = 2
       p.set(1, p_l)
       chai.expect(p).eql(m)
       chai.expect(p_l.value).equal(p.l_ = 1)
       p = new eYo.geom.Point(); p_c.value_ = 1; p_l.value_ = 2
       p.set(p_c, p_l)
       chai.expect(p).eql(m)
       chai.expect(p).eql({c: (p_c.value_ = 2), l: (p_l.value_ = 1)})
    })
  })
  describe(`Size`, function () {
    it(`Size init`, function () {
      var s, ss
       var m = {w: 3, h: 4}
       var p_snap = eYo.p6y.new('p', onr); p_snap.value_ = true
       chai.expect(() => new eYo.geom.Size(1, 2, 3)).throw()
       s = new eYo.geom.Size()
       s.eyo.p6yReplace(s, 'snap', p_snap)
       chai.expect(s.snap_p).equal(p_snap)
       chai.expect(s.span_ = false).equal(p_snap.value)
       chai.expect(p_snap.value_ = true).equal(s.span)
       s = new eYo.geom.Size(p_snap)
       chai.expect(s).almost.eql({w: 0, h: 0})
       chai.expect(s.span_ = false).equal(p_snap.value)
       chai.expect(p_snap.value_ = true).equal(s.span)
       s = new eYo.geom.Size(p_snap, m.w)
       chai.expect(s).almost.eql({w: m.w, h: 0})
       chai.expect(s.span_ = false).equal(p_snap.value)
       chai.expect(p_snap.value_ = true).equal(s.span)
       s = new eYo.geom.Size(p_snap, m.w, m.h)
       chai.expect(s).almost.eql(m)
       chai.expect(s.span_ = false).equal(p_snap.value)
       chai.expect(p_snap.value_ = true).equal(s.span)
       ss = eYo.geom.randSize(); ss.snap_ = true
       s = new eYo.geom.Size(ss)
       chai.expect(s).almost.eql(ss)
       chai.expect(s.snap).almost.eql(ss.snap)
       ss = eYo.geom.randSize(); ss.snap_ = false
       s = new eYo.geom.Size(ss)
       chai.expect(s).almost.eql(ss)
       chai.expect(s.snap).almost.eql(ss.snap)
       s = new eYo.geom.Size(true, m.w)
       chai.expect(s).almost.eql({w: m.w, h: 0})
       chai.expect(s.snap).true
       s = new eYo.geom.Size(false, m.w)
       chai.expect(s).almost.eql({w: m.w, h: 0})
       chai.expect(s.snap).false
       s = new eYo.geom.Size(true, m.w, m.h)
       chai.expect(s).almost.eql(m)
       chai.expect(s.snap).true
       s = new eYo.geom.Size(false, m.w, m.h)
       chai.expect(s).almost.eql(m)
       chai.expect(s.snap).false
    })
    describe(`Size`, function () {
      it(`Size: set`, function () {
        var s, m, mm
         s = new eYo.geom.Size()
         m = {w: 3, h: 4}; p.set(m); chai.expect(p).eql(m)
         chai.expect(() => p.set(m, null)).not.throw()
         chai.expect(() => p.set(m, 1)).throw()
         s = new eYo.geom.Size()
         mm = {width: m.w * eYo.geom.X, height: m.h * eYo.geom.Y}
         s.set(mm); chai.expect(s).almost.eql(m)
         chai.expect(() => p.set(mm, null)).not.throw()
         chai.expect(() => p.set(mm, 1)).throw()
         s = new eYo.geom.Size()
         mm = {x: eYo.geom.X, y: 2 * eYo.geom.Y}
         s.set(mm); chai.expect(s).almost.eql(m)
         chai.expect(() => s.set(mm, null)).not.throw()
         chai.expect(() => s.set(mm, 1)).throw()
         s = new eYo.geom.Point()
         mm = {clientX: eYo.geom.X, clientY: 2 * eYo.geom.Y}
         s.set(mm); chai.expect(s).almost.eql(m)
         chai.expect(() => s.set(mm, null)).not.throw()
         chai.expect(() => s.set(mm, 1)).throw()
         let p_w = eYo.p6y.new('w', onr)
         let p_h = eYo.p6y.new('h', onr)
         s = new eYo.geom.Size(); p_w.value_ = m.w; p_h.value_ = m.h
         s.set(p_w, m.h)
         chai.expect(s).eql(m)
         chai.expect(p_w.value_ = 9).equal(s.w)
         chai.expect(s.w_ = m.w).equal(p_w.value)
         s = new eYo.geom.Size(); p_w.value_ = m.w; p_h.value_ = m.h
         s.set(m.w, p_h)
         chai.expect(s).eql(m)
         chai.expect(p_h.value_ = 9).equal(s.h)
         chai.expect(s.h_ = m.h).equal(p_h.value)
         s = new eYo.geom.Size(); p_w.value_ = m.w; p_h.value_ = m.h
         s.set(p_w, p_h)
         chai.expect(s).eql(m)
         chai.expect(s).eql({w: (p_w.value_ = m.h), h: (p_h.value_ = m.w)})
         chai.expect(s).eql({w: (p_w.value_ = m.w), h: (p_h.value_ = m.h)})
      })
    })
  })
  describe(`Rect`, function () {
    it(`Rect: set`, function () {
      var r, m
       r = new eYo.geom.Rect()
       m = {left: 1, top: 2, right: 4, bottom: 6};
       r.set(m); chai.expect(r).eql({c: 1, l: 2, w: 3, h: 4})
       chai.expect(() => r.set(m, null)).not.throw()
       chai.expect(() => r.set(m, 1)).throw()
       r = new eYo.geom.Rect()
       m = {c: 1, l: 2, w: 3, h: 4}; r.set(m); chai.expect(r).eql(m)
       chai.expect(() => r.set(m, null)).not.throw()
       chai.expect(() => r.set(m, 1)).throw()
       r.set(1, 2, 3, 4); chai.expect(r).eql(m)
       let p_c = eYo.p6y.new('c', onr)
       let p_l = eYo.p6y.new('l', onr)
       let p_w = eYo.p6y.new('w', onr)
       let p_h = eYo.p6y.new('h', onr)
       m = {c: 1, l: 2, w: 3, h: 4}
       r.set(m.c, m.l, m.h, m.w); chai.expect(r).eql(m)
       p_c.value_ = m.c; p_l.value_ = m.l
       p_w.value_ = m.w; p_h.value_ = m.h
       r = new eYo.geom.Rect(p_c, m.l, m.w, m.h); chai.expect(r).eql(m)
       chai.expect(r.c_ = 5).eql(p_c.value)
       chai.expect(p_c.value_ = m.c).eql(r.c)
       r = new eYo.geom.Rect(p_c, m.l, m.w, m.h); chai.expect(r).eql(m)
       chai.expect(r.c_ = 5).eql(p_c.value)
       chai.expect(p_c.value_ = m.c).eql(r.c)
       r = new eYo.geom.Rect(m.c, p_l, m.w, m.h); chai.expect(r).eql(m)
       chai.expect(r.l_ = 5).eql(p_l.value)
       chai.expect(p_l.value_ = m.l).eql(r.l)
       r = new eYo.geom.Rect(m.c, m.l, p_w, m.h); chai.expect(r).eql(m)
       chai.expect(r.w_ = 5).eql(p_w.value)
       chai.expect(p_w.value_ = m.w).eql(r.w)
       r = new eYo.geom.Rect(m.c, m.l, m.w, p_h); chai.expect(r).eql(m)
       chai.expect(r.h_ = 5).eql(p_h.value)
       chai.expect(p_h.value_ = m.h).eql(r.h)
       r = new eYo.geom.Rect(m.c, m.l, p_w, m.h); chai.expect(r).eql(m)
       chai.expect(r.w_ = 5).eql(p_w.value)
       let p = new eYo.geom.Point(m)
       let s = new eYo.geom.Size(m)
    })
  })

})
